<mxfile host="app.diagrams.net">
  <diagram name="UML">
    <mxGraphModel dx="1000" dy="1000" grid="1" gridSize="10" guides="1">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- accounts_user -->
        <mxCell id="accounts_user" value="accounts_user&#xa;------------------&#xa;id: INTEGER&#xa;password: varchar(128)&#xa;last_login: datetime&#xa;is_superuser: bool&#xa;email: varchar(254)&#xa;nom: varchar(100)&#xa;prenom: varchar(100)&#xa;telephone: varchar(20)&#xa;role: varchar(10)&#xa;is_active: bool&#xa;is_staff: bool&#xa;date_joined: datetime&#xa;updated_at: datetime" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1">
          <mxGeometry x="20" y="20" width="240" height="320" as="geometry"/>
        </mxCell>

        <!-- logements_logement -->
        <mxCell id="logements_logement" value="logements_logement&#xa;------------------&#xa;id: INTEGER&#xa;titre: TEXT&#xa;ville: TEXT&#xa;adresse: TEXT&#xa;prix: INTEGER&#xa;hote_id: bigint" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1">
          <mxGeometry x="300" y="20" width="240" height="200" as="geometry"/>
        </mxCell>

        <!-- logements_avis -->
        <mxCell id="logements_avis" value="logements_avis&#xa;------------------&#xa;id: INTEGER&#xa;note: INTEGER&#xa;commentaire: TEXT&#xa;created_at: datetime&#xa;client_id: bigint&#xa;reservation_id: bigint&#xa;logement_id: bigint" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1">
          <mxGeometry x="300" y="260" width="240" height="240" as="geometry"/>
        </mxCell>

        <!-- reservations_reservation -->
        <mxCell id="reservations_reservation" value="reservations_reservation&#xa;------------------&#xa;id: INTEGER&#xa;date_debut: datetime&#xa;date_fin: datetime&#xa;nb_personnes: INTEGER&#xa;client_id: bigint&#xa;logement_id: bigint&#xa;hote_id: bigint" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1">
          <mxGeometry x="600" y="20" width="260" height="220" as="geometry"/>
        </mxCell>

        <!-- messages_app_message -->
        <mxCell id="messages_app_message" value="messages_app_message&#xa;------------------&#xa;id: INTEGER&#xa;contenu: TEXT&#xa;lu: bool&#xa;created_at: datetime&#xa;destinataire_id: bigint&#xa;expediteur_id: bigint" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1">
          <mxGeometry x="600" y="280" width="260" height="220" as="geometry"/>
        </mxCell>

        <!-- RELATION: logement.hote_id → user.id -->
        <mxCell id="rel1" edge="1" source="logements_logement" target="accounts_user"
                style="endArrow=block;endFill=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- RELATION: avis.client_id → user.id -->
        <mxCell id="rel2" edge="1" source="logements_avis" target="accounts_user"
                style="endArrow=block;endFill=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- RELATION: avis.logement_id → logement.id -->
        <mxCell id="rel3" edge="1" source="logements_avis" target="logements_logement"
                style="endArrow=block;endFill=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- RELATION: reservation.client_id → user.id -->
        <mxCell id="rel4" edge="1" source="reservations_reservation" target="accounts_user"
                style="endArrow=block;endFill=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- RELATION: reservation.logement_id → logement.id -->
        <mxCell id="rel5" edge="1" source="reservations_reservation" target="logements_logement"
                style="endArrow=block;endFill=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- RELATION: message.destinataire_id → user.id -->
        <mxCell id="rel6" edge="1" source="messages_app_message" target="accounts_user"
                style="endArrow=block;endFill=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- RELATION: message.expediteur_id → user.id -->
        <mxCell id="rel7" edge="1" source="messages_app_message" target="accounts_user"
                style="endArrow=block;endFill=1;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
